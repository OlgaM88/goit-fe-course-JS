"use strict";var lists=[],form=document.querySelector("form"),btnAdd=document.querySelector(".btn-add"),input=document.querySelector("input"),listContainer=document.querySelector(".list-container"),listsMenu=document.querySelector(".list-menu");function handlerAddNote(e){e.preventDefault();e.target;var t=input.value;lists.includes(t)?alert("Такой адресc существует!"):checkURL(t)&&lists.push(t),form.reset(),localStorage.lists=JSON.stringify(lists),createList()}function checkURL(e){return/^(?:(?:https?|ftp|telnet):\/\/(?:[a-z0-9_-]{1,32}(?::[a-z0-9_-]{1,32})?@)?)?(?:(?:[a-z0-9-]{1,128}\.)+(?:com|net|org|mil|edu|arpa|ru|gov|biz|info|aero|inc|name|[a-z]{2})|(?!0)(?:(?!0[^.]|255)[0-9]{1,3}\.){3}(?!0|255)[0-9]{1,3})(?:\/[a-z0-9.,_@%&?+=\~\/-]*)?(?:#[^ \'\"&<>]*)?$/i.test(e)}function handlerDeleteNote(e){var t=e.target,n=t.nodeName,i=t.dataset.action;if("BUTTON"===n&&"delete-note"===i){var r=t.closest(".item"),s=r.firstElementChild.textContent;r.remove();var l=lists.indexOf(s);lists.splice(l,1),localStorage.lists=JSON.stringify(lists)}}function createList(){var e=document.querySelector("#menu").innerHTML.trim(),n=Handlebars.compile(e),t=lists.reduce(function(e,t){return e+n(t)}," ");listsMenu.innerHTML=t}btnAdd.addEventListener("click",handlerAddNote),listsMenu.addEventListener("click",handlerDeleteNote),window.onload=function(){lists=localStorage.lists?JSON.parse(localStorage.lists):[],createList()};